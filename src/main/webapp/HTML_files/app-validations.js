var ele="";var c=0;$.fn.getBox=function(){return{left:Math.round($(this).offset().left),top:Math.round($(this).offset().top),width:$(this).outerWidth(),height:$(this).outerHeight()}};$.fn.positionToElm=function(n,t){var y={t:0,l:0,c:0.5,b:1,r:1};var q={anchor:["tl","tl"],fromParent:false,offset:[0,0]};t=$.extend(q,t);var x=$(n).getBox();var u=$(this).getBox(true);var r=x.left;var w=x.top;w-=y[t.anchor[0].charAt(0)]*u.height;r-=y[t.anchor[0].charAt(1)]*u.width;w+=y[t.anchor[1].charAt(0)]*x.height;r+=y[t.anchor[1].charAt(1)]*x.width;r+=t.offset[0];w+=t.offset[1];if(t.fromParent){var s=Math.round($(this).offsetParent().offset().left);var l=Math.round($(this).offsetParent().offset().top);r=(r-s);w=(w-l)}$(this).css({left:r+"px",top:w+"px"})};if(!window.OPEN){var OPEN={}}if(!window.OPEN.Validate){OPEN.Validate={}}if(!window.OPEN.ValidatorMaps){OPEN.ValidatorMaps={}}OPEN.Const={IsLocal:/localhost/i.test(window.location),LocalXml:"/ngaosbn/sbsapply/web/dynamicapp/xml/",RemoteXml:"/ngaosbn/sbsapply/web/dynamicapp/xml/",LocalFormSubmit:"/business-card-application/prospect-app",RemoteFormSubmit:"/business-card-application/prospect-app"};var dynUrlString=$("form[name=prospectAppForm]").attr("action");OPEN.Const.LocalFormSubmit=(dynUrlString!="")?dynUrlString:OPEN.Const.LocalFormSubmit;OPEN.Const.RemoteFormSubmit=(dynUrlString!="")?dynUrlString:OPEN.Const.RemoteFormSubmit;OPEN.FormSubmitUrl=OPEN.Const.IsLocal?OPEN.Const.LocalFormSubmit:OPEN.Const.RemoteFormSubmit;OPEN.Exists=function(a){var b;return a!==b&&a!==null};OPEN.XHR={SEND:function(a){return $.ajax({url:OPEN.Exists(a.u)?a.u:OPEN.FormSubmitUrl,type:OPEN.Exists(a.t)?a.t:"POST",contentType:OPEN.Exists(a.ct)?a.ct:"application/x-www-form-urlencoded",dataType:OPEN.Exists(a.dt)?a.dt:"json",cache:OPEN.Exists(a.c)?a.c:"true",data:OPEN.Exists(a.d)?a.d:"",async:OPEN.Exists(a.sync)?a.sync:true,success:a.ok,error:OPEN.Exists(a.err)?a.err:function(){}})}};OPEN.Validate.OnServer=function(z,s,w){var b=OPEN.XHR.SEND({u:s,d:z,sync:false,c:false,ok:function(a){window.console.log("URL value in OnServer function"+s);window.console.log("ERROR: Validate.OnServer.: "+a)},err:function(a){window.console.log("ERROR: Validate.OnServer. Could not initiate communications. Dumping response: "+a.responseText);if(a.responseText.indexOf("session has expired")!=-1){window.location.href="/business-card-application/prospect-app/ao/sessionerror.jsp"}else{window.location.href="/business-card-application/prospect-app/ao/systemerror.jsp"}}});if(!b||!b.responseText){window.location.href="/business-card-application/prospect-app/ao/systemerror.jsp"}var z=null;try{z=JSON.parse(b.responseText).Results}catch(w){z={};z.status="ParseFailed"}var e=z.Error;for(var r in e){}if(z.status.toLowerCase()=="failure"){var t=z.ValidationErrors;for(var q in t){warningSelector="input[name*='"+q+"']"}var u=$(warningSelector).eq(0).parents(".txt-field");var t=z.ValidationErrors;for(var v in t){if(v=="social"||v=="social"){$("#social").addClass("fieldErrors");var y="input[name='socialSecurity3']"}else{var y=".info-block input[name='"+v+"']"}$(y).parent().addClass("fieldErrors");$(y).parent().append(document.createElement("span"));var x=$(y).siblings().filter("span");$(x).html(t[v]);$(x).addClass("serverError");$(u).closest("ul").prev(".topErrMsg").show()}return false}return true};OPEN.Validate.SuppFormRuleSelect=function(){var h=[];var n=true;var e=0;var j=0;var l=0;$(".add-card").each(function(d){var b=0;l++;$(this).find("input").each(function(r){if($(this).val()!=""){b=1;j=1}});if(b==1||l>=1){var a=OPEN.Validate["SuppGroup"+l].validateForm("supp-form");h.push(a)}});if(j==0){$(".topErrMsg").html("Please make sure that all required fields are complete and valid.").show();$("html, body").scrollTop($(".topErrMsg").offset().top-100);$(".selectOrder").css("margin-top","0px");return false}else{$(".topErrMsg").hide();$(".selectOrder").css("margin-top","40px")}OPEN.Overlay.hide();for(var q=h.length;q--;){if(!h[q]){n=false}}return n};OPEN.CityStateLookup={get:function(h){if(h.str.length<5){return}var b=OPEN.Const.IsLocal?OPEN.Const.LocalXml:OPEN.Const.RemoteXml;b+=b.match(/\/$/ig)?"":"/";b=b+h.str.slice(0,4)+".xml";var a=this;OPEN.XHR.SEND({u:b,d:h.data,t:"GET",dt:"xml",c:false,ok:function(d){a.onSuccess(d,h)},err:function(d){window.console.log("ERROR: CityStateLookup. Could not initiate communications. Dumping response: "+d.responseText);$(h.sel).css("display","block")}})},onSuccess:function(a,d){var b,j=null;$(a).find("zipcode").each(function(){if($(this).attr("code")===d.str){b=$(this).find("city").text();j=$(this).find("state").text()}});if(b!=null&&j!=null){b=b.toLowerCase().capitalize();$(d.city).val(b).parents(".txt-field").removeClass("fieldErrors");$(d.state).val(j).change();if($(window).width()<660){$(d.city).prev("label").hide();$(d.state).prev("label").hide()}}}};OPEN.Overlay={wrapper:null,content:null,arrow:null,isVisible:false,element:null,init:function(){this.wrapper=$("#validateTipWrapper");this.content=$("#validateTipWrapper p");this.arrow=$("#validateTipWrapper .tooltip_arrow");this.closebt=$("#validateTipWrapper .close");$(this.arrow).removeClass("tooltip_arrow").addClass("tooltip_arrow_bttm");if($(this.wrapper).length===0){return}var b=this;this.closebt.click(function(){b.hide()})},show:function(d,e,q){this.element=d;if(this.isVisible){return}$(this.element).addClass("clicked");this.setTipContent(e);var n=this.arrow.height();var h=$("#validateTipWrapper").clone().removeAttr("id").attr("id","tooltipWrapper");if(!($(d).parent().find("span").is("#secureConnection"))){$(d).parents(".txt-field").append(h)}else{$(d).parent().append(h);if($(d).parent().find("span").is("#secureConnection")){var j='<span class="sec-close">Close</span>';$("#tooltipWrapper .tooltip-top").after(j);$("#tooltipWrapper .sec-close").click(function(){OPEN.Overlay.hide()})}}if(($(d).parents().hasClass("overlay-mask-Wrapper")||($(d).hasClass("helpDiv")&&$(d).parents().hasClass("overlay-mask-Wrapper")))&&!ie78&&$(window).width()<660){h.css({width:"230px"});$("#tooltipWrapper .wedge").css("left","60%")}h.css({visibility:"visible",display:"block",top:(-h.height()-18)+"px",left:"1px"});if($(d).parent().find("span").is("#secureConnection")){h.css({visibility:"visible",display:"block",top:(-h.height()-10)+"px",left:"1px"})}h.addClass("arrow-down");$("#tooltipWrapper .wedge").css({top:($("#tooltipWrapper").outerHeight())+"px"});if(ie78){$("#tooltipWrapper .wedge").css({top:($("#tooltipWrapper").outerHeight()+8)+"px"});h.css({visibility:"visible",display:"block",top:(-h.height()-16)+"px",left:"-2px"})}if($(d).parent().outerWidth(true)<205||$(d).parents(".txt-field").find("input[type=text],input[type=tel]").outerWidth(true)<205&&$(d).parents(".txt-field").find("input[type=text],input[type=tel]").outerWidth(true)!=null){$("#tooltipWrapper .wedge").css("left","8%");if(($(d).parent().find("input[type=text],input[type=tel]").is("#businessPhone")&&$(window).width()<660)||($(d).parent().find("input[type=text],input[type=tel]").is("#phone")&&$(window).width()<660)){h.css("left","-95px");$("#tooltipWrapper .wedge").css("left","91%")}}if($(window).width()>660){if($(d).hasClass("helpDiv")){$("#tooltipWrapper .wedge").css("left","77%");ie78&&$("#tooltipWrapper .wedge").css("left","80%")}if(($(d).parent().find("input[type=text]").is("#emailAddress")&&$(d).hasClass("helpDiv"))||$(d).parent().find("span").is("#secureConnection")){$("#tooltipWrapper .wedge").removeAttr("style");h.removeClass("arrow-down");h.addClass("arrow-left");topval=-(h.height()-$(d).height())/2;if($(d).parent().find("span").is("#secureConnection")){topval-=8;if(ie78){$("#tooltipWrapper").remove();$("#validateTipWrapper").css({display:"block",visibility:"visible"});this.wrapper=$("#validateTipWrapper");this.wrapper.addClass("arrow-left");this.wrapper.positionToElm(d,{anchor:["tc","tc"],offset:[168,-n-50]});$(".arrow-left .wedge").css("top","50px");var l='<span class="sec-close">Close</span>';if($(".sec-close").size()==0){$("#validateTipWrapper .tooltip-top").after(l)}$("#validateTipWrapper .sec-close").click(function(){OPEN.Overlay.hide()})}}h.css({visibility:"visible",display:"block",top:(topval)+"px",left:($(d).parent().width()+12)+"px"});$("#tooltipWrapper .wedge").css("top",((h.outerHeight()-$(d).height())/2)+"px");if(ie78){$("#tooltipWrapper .wedge").css("top",(10+(h.outerHeight()-$(d).height())/2)+"px");h.css({visibility:"visible",display:"block",top:(-(h.height()-$(d).height())/2)+"px",left:($(d).parent().width()+10)+"px"})}}}if($(d).parents(".overlay-mask-Wrapper").length>0&&$(window).width()<660){}if($(d).hasClass("helpDiv")&&$(d).parents().is("#HighRiskUserCID")){h.css({visibility:"visible",display:"block",top:"-97px",left:"1px"});$("#tooltipWrapper .wedge").css("top","88px")}this.isVisible=true},hide:function(){if(!this.isVisible){return}$(".overlay").removeClass("err");$(this.element).removeClass("clicked");this.wrapper.removeClass("toasterTooltip");$("#tooltipWrapper").remove();this.wrapper.css("visibility","hidden");this.wrapper.removeClass("arrow-left ");this.isVisible=false},setTipContent:function(b){this.content.html(b)},toInt:function(b){return Math.floor(b)}};String.prototype.capitalize=function(){return this.replace(/(^|\s)([a-z])/g,function(h,b,a){return b+a.toUpperCase()})};OPEN.FormatCurrency=function(j){var h=j.split(".")[0];h=h.replace(/[$?,*]/g,"");if(isNaN(h)){return j}h=parseFloat(h);if(!isNaN(h)&&isFinite(h)){var n="",h=String(h),r=h.length-1,l,q;for(q=0;q<=r;q++){n+=l=h.charAt(q);if(q<r&&(r-q)%3==0&&l!="-"){n+=","}}return"$"+(h=n)}else{return j}};OPEN.formatSSN=function(a){var b=a.split(".")[0];b=b.replace(/[-]/g,"");if(isNaN(b)||b.length!=9){return a}if(!isNaN(b)&&isFinite(b)){var n="",b=String(b),d=b.length-1,q,e,r;for(e=0;e<=d;e++){n+=q=b.charAt(e);if(d-e==4){n+="-"}else{if((d-e)==6){n+="-"}}}return(b=n)}else{return a}};OPEN.formatTaxid=function(a){var b=a.split(".")[0];b=b.replace(/[-]/g,"");if(isNaN(b)||b.length!=9){return a}if(!isNaN(b)&&isFinite(b)){var n="",b=String(b),d=b.length-1,q,e,r;for(e=0;e<=d;e++){n+=q=b.charAt(e);if(d-e==7){n+="-"}}return(b=n)}else{return a}};OPEN.formatPhone=function(a){var b=a.split(".")[0];b=b.replace(/[-()\s]/g,"");if(isNaN(b)||b.length!=10){return a}if(!isNaN(b)&&isFinite(b)){var n="",b=String(b),d=b.length-1,q,e,r;for(e=0;e<=d;e++){if(e==0){n+="("}n+=q=b.charAt(e);if(d-e==4){n+="-"}else{if(d-e==7){n+=") "}else{if((d-e)%3==1&&d-e>5){n+=") "}}}}return(b=n)}else{return a}};OPEN.formatDOB=function(a){var b=a.split(".")[0];b=b.replace(/[\/]/g,"");if(isNaN(b)||b.length!=8){return a}if(!isNaN(b)&&isFinite(b)){var n="",b=String(b),d=b.length-1,q,e,r;for(e=0;e<=d;e++){n+=q=b.charAt(e);if(d-e==4){n+="/"}else{if((d-e)==6&&d-e>5){n+="/"}}}return(b=n)}else{return a}};OPEN.formatEmail=function(){var e="",b=$("#emailAddress").val(),d=b.split("@");if(d[0].length>=3){first=d[0].charAt(0),last=d[0].charAt(d[0].length-1),subst=d[0].slice(1,d[0].length-1);for(var a=0;a<subst.length;a++){e+="*"}return first+e+last+"@"+d[1]}else{return b}};OPEN.Validate.FixEMSpendSubmit=function(b){this.estField=$("#estimatedMonthlySpend");if(this.estField.length){this.estFieldValue=this.estField.val();this.estField.val(this.estFieldValue.replace(/[^\d]/g,""))}};OPEN.formGlobalMessage=function(d,b,a){d?a.hide():a.show();if(b!=""&&typeof b!="undefined"){a.text(b)}else{a.text("Please make sure that all required fields are complete and valid.")}};OPEN.Validator=function(b){function a(d){this.RuleMap=d||{}}a.prototype.validateForm=function(d){d=document.getElementById(d);if(typeof d==="undefined"||d===null){return false}var e;var n=true;var q=this;var l=function(t){t.value=q.trimAll(t.value);for(rule in q.RuleMap[fieldKey]){var r=q.RuleMap[fieldKey][rule];r.field=t;var s=false;if(typeof r.validator!=="function"){s=q[r.validator](t,r.args)}else{s=r.validator.call(q,t,r.args)}if(s===false){q.onFormError(r);n=false}}return s};for(fieldKey in this.RuleMap){var j=this.getElement(d,fieldKey);if(j===null){continue}if(!$(j).hasClass("valid")){e=l(j)}}return n};a.prototype.validateField=function(n){if(typeof n==="undefined"||n===null){return false}var d=this.getNameOrID(n);if(d===null){return false}var q=this.RuleMap[d];var r=/^\s+|.*\s+.*|\s+$/g;if(r.test(n.value)){n.value=this.trimAll(n.value)}for(rule in q){var e=q[rule];e.field=n;var l=false;if(typeof e.validator!=="function"){l=this[e.validator](n,e.args)}else{l=e.validator.call(this,n,e.args)}l?this.onFieldSuccess(e):this.onFieldError(e);if(l){continue}else{if($(n).prop("name")=="emailAddress"||$(n).prop("name")=="annualHouseholdIncome"){return e.msg}return false}}return true};a.prototype.email=function(d){if(!this.skiprule(d)){return/^[a-zA-Z0-9_\.\-]+\@([a-zA-Z0-9\-]+\.)+[a-zA-Z0-9]+$/i.test(d.value)}return true};a.prototype.invalidemail=function(d){if(!this.skiprule(d)){return/^([A-Za-z0-9_\-\.])+\@{1}([A-Za-z0-9_\-\.])+\.([A-Za-z]{2,4})$/i.test(d.value)}return true};a.prototype.url=function(d){return/^(((ht|f){1}(tp:[/][/]){1})|((www.){1}))[-a-zA-Z0-9:%_\+.,#?&\/]+$/.test(d.value)};a.prototype.required=function(d){switch(d.nodeName.toLowerCase()){case"select":return d.selectedIndex!==0?true:false;case"input":if(this.isCheckBox(d)){return d.checked?true:false}default:return d.value.length>=1?true:false}};a.prototype.skiprule=function(d){return $(d).hasClass("skiprule")?true:false};a.prototype.validChars=function(d){return/^[A-Za-z\-\s]*$/i.test(d.value)};a.prototype.validChar=function(e){var d=e.value.substring(0,1);return/^[A-Za-z]*$/i.test(d)};a.prototype.validCharsExt0=function(d){return/^[A-Za-z.,&0-9\/\-'\s]*$/i.test(d.value)};a.prototype.validCharsExt1=function(d){return/^[A-Za-z@&\-'\s]*$/i.test(d.value)};a.prototype.validCharsExt2=function(d){return/^[A-Za-z.,0-9&\/\-'\s]*$/i.test(d.value)};a.prototype.validCharsExt3=function(d){return/^[A-Za-z.\-\s]*$/i.test(d.value)};a.prototype.validCharsAlphaNum=function(d){return/^[A-Za-z0-9]*$/i.test(d.value)};a.prototype.validCharsAlphaNumExt=function(d){return/^[A-Za-z0-9#&,\/\.\-\s]*$/i.test(d.value)};a.prototype.validCharsAlphaNumExt1=function(d){return/^[A-Za-z0-9#&,\/\.\-\:\_\s]*$/i.test(d.value)};a.prototype.validCharsAlphaNumExt2=function(d){return/^[A-Za-z0-9@&\-'\s]*$/i.test(d.value)};a.prototype.validCharsAlphaNumExt3=function(d){return/^[A-Za-z0-9\-\#\/]*$/i.test(d.value)};a.prototype.validCharsAlphaNumExt4=function(d){return/^(1{1}|3{1}|8{1}).*$/i.test(d.value)};a.prototype.validCharsAlphaNumExt5=function(d){return/^[A-Za-z0-9#?\s]*$/i.test(d.value)};a.prototype.validCharsAlphaNumExt6=function(d){return/^[^-'.,/&;$#%?@]*$/i.test(d.value)};a.prototype.validCharsAlphaNumExt7=function(d){return/^[^A-Za-z'.,\s()\+\\|<>\[\]{}:;=\"~`_/&amp;$#%?@\*!\^]*$/i.test(d.value)};a.prototype.validCharsAlphaNumExt8=function(d){return/^[^A-Za-z'.,\s()\+\\|<>\[\]{}:;=\"~`_&amp;$#%?@\*!\^]*$/i.test(d.value)};a.prototype.validCharsAlphaNumExt9=function(d){return/^[^',/&;$#%?]*$/i.test(d.value)};a.prototype.validCharsAlphaNumExt10=function(d){return/^[^A-Za-z'.,\+\\|<>\[\]{}:;=\"~`_/&amp;$#%?@\*!\^]*$/i.test(d.value)};a.prototype.minLength=function(e,d){return e.value.length>=d.len};a.prototype.maxLength=function(e,d){return e.value.length<=d.len};a.prototype.exactLength=function(e,d){return e.value.length==d.len};a.prototype.validNumbers=function(d){return/^[0-9]*$/i.test(d.value)};a.prototype.validChar=function(e){var d=e.value.substring(0,1);return/^[A-Za-z]*$/i.test(d)};a.prototype.validSplChars=function(e){var d=e.value.substring(0,1);return(!(/^[0-9]*$/i.test(d)))};a.prototype.validCharsExt4=function(d){return/^[A-Za-z0-9.,\-\/\'\s]*$/i.test(d.value)};a.prototype.validNumbersBT=function(d){return/^[0-9,\$]*$/i.test(d.value)};a.prototype.validTranferAmunt=function(d){var h=$("input[id='bt1_Amount']").val().replace(/[^\d]/g,"");h=(h)?h:0;var e=$("input[id='bt2_Amount']").val().replace(/[^\d]/g,"");e=(e)?e:0;var j=parseInt(h)+parseInt(e);return(j>=100&&j<=15000)?true:false};a.prototype.minimumTranferAmount=function(d){return d.value.replace(/[^\d]/g,"")>=100?true:false};a.prototype.excludeNumbers=function(d){return/^[^0-9]*$/i.test(d.value)};a.prototype.validateYear=function(d){return/^(189[0-9])|(19|20)[0-9]{2}$/.test(d.value)};a.prototype.validateMonth=function(d){return/^0[1-9]|1[012]$/.test(d)},a.prototype.validateDays=function(d){return/^0[1-9]|[12][0-9]|3[01]$/.test(d)};a.prototype.validateDayMonth=function(d){var e=/^04|06|09|11$/;if(d.m==2){return/^0[1-9]|[12][0-9]$/.test(d.d)}else{if(e.test(d.m)){return/^0[1-9]|[12][0-9]|3[0]$/.test(d.d)}else{return/^0[1-9]|[12][0-9]|3[01]$/.test(d.d)}}};a.prototype.validateDayYear=function(d){var e=/^02$/;if(e.test(d.m)){if(this.isLeapYear(d.y)){return/^0[1-9]|[12][0-9]$/.test(d.d)}else{return/^0[1-9]|1[0-9]|2[0-8]$/.test(d.d)}}else{return/^0[1-9]|[12][0-9]|3[01]$/.test(d.d)}};a.prototype.validateAgeRangeBasic=function(d,r){var l=null;var n=new Date();if(d.y<1000){var t=1000;n.setFullYear(t,d.m-1,d.d)}else{n.setFullYear(d.y,d.m-1,d.d)}var q=new Date();q.setFullYear(q.getFullYear()-r.lower);var s=new Date();s.setFullYear(s.getFullYear()-r.upper);if((q-n)<0){return"underRangeLimit"}else{if((s-n)>0){return"overRangeLimit"}}};a.prototype.socialSecurity=function(e){var h=OPEN.formatSSN(e.value);var d=e.value.replace(/-/g,"");if(d!=""){if(Math.round(d%111111111)==0||d==123456789||d==0){return false}return/^\d{3}([\- ])\d{2}([\- ])\d{4}$/.test(h)}return true};a.prototype.validateNoPoBox=function(n){var e="",r=false,h=["POBOX","P.O.BOX","PO.BOX","PO-BOX","P.OBOX","PBOX","P/OBOX","P-O-BOX","PO/BOX","POB","POSTBOX"];for(var q=0;q<n.value.length;q++){if(n.value.charAt(q)!=" "){e+=n.value.charAt(q)}}e=e.toUpperCase();for(var d=0;d<h.length;d++){if(e.indexOf(h[d])!=-1){return false}else{r=true}}return r},a.prototype.trimEnds=function(d){if(!d){return""}d=d.replace(/^\s\s*/,"");ws=/\s/;i=d.length;while(ws.test(d.charAt(--i))){}return d.slice(0,i+1)};a.prototype.trimAll=function(e){if(!e){return""}e=e.replace(/^\s\s*/,"");ws=/\s/;i=e.length;while(ws.test(e.charAt(--i))){}var d=e.slice(0,i+1);return d.replace(/\s+/," ")};a.prototype.getElement=function(e,d){if($.browser.msie&&parseInt($.browser.version)<8?true:false){return document.getElementById(d)?document.getElementById(d):e.elements[d]?e.elements[d]:null}else{return e.elements[d]?e.elements[d]:null}};a.prototype.getNameOrID=function(d){return d.getAttribute("name")?d.getAttribute("name"):d.getAttribute("id")?d.getAttribute("id"):null};a.prototype.isCheckBox=function(d){return/checkbox/i.test(d.type)};a.prototype.getLength=function(d,e){switch(e.nodeName.toLowerCase()){case"select":return $("option:selected",e).length;case"input":if(this.isCheckBox(e)){return $('"#'+e.id+'"').filter(":checked").length}}return d.length};a.prototype.isLeapYear=function(e){var d=(+e);return(d%400==0)||((d%4==0)&&(d%100!=0))?true:false};a.prototype.checkBoxHasError=function(e,d){d===true?e.parent().addClass("fieldErrors"):e.parent().removeClass("fieldErrors")};a.prototype.onFieldSuccess=function(e){this.Overlay.hide();var d=$(e.field).parent();if(this.isCheckBox(d[0])){this.checkBoxHasError(d,false)}else{if($(e.field).is("select")){f=$(e.field).parent().parent();f.removeClass("fieldErrors")}else{if(d.hasClass("fieldErrors")){d.removeClass("fieldErrors")}}}return true};a.prototype.onFieldError=function(e){var d=$(e.field).parent();if(this.Overlay.isVisible){this.Overlay.hide(e.field,e.msg)}if(e.field.value.length!==0||(e.field.value.length==0&&(d.hasClass("fieldErrors")||d.parent().hasClass("fieldErrors")))){$(".overlay").addClass("err");if($("#supp-form").length>0){this.Overlay.show(e.field,e.suppmsg,"err")}else{this.Overlay.show(e.field,e.msg,"err")}}if(this.isCheckBox(d[0])){this.checkBoxHasError(d,true)}else{if($(e.field).is("select")){f=$(e.field).parent().parent();f.addClass("fieldErrors")}else{d.removeClass("hglt").addClass("fieldErrors")}}return false};a.prototype.onFormSuccess=function(h){for(var e=h.elements.length;e--;){var d=$(h.elements[e]).parent().parent();d.removeClass("fieldErrors");if(this.isCheckBox(d)){this.checkBoxHasError(d,false)}}$(".warning-area").addClass("noshow");return true};a.prototype.onFormError=function(d){var e=$(d.field).parent();if(this.isCheckBox(e[0])){this.checkBoxHasError(e,true)}else{if($(d.field).is("select")){e=$(d.field).parent().parent();e.addClass("fieldErrors")}else{e.addClass("fieldErrors")}}$(".warning-area").removeClass("noshow");return false};return new a(b)};if(typeof(addressValidationFlag)!="undefined"&&addressValidationFlag=="true"){OPEN.ValidatorMaps.OverlayBusinessFormRules=function(){var a=new Object();a[businessAddressFields[0]+"Overlay"]=OPEN.ValidatorMaps.RuleMapBusiness.businessStreetAddress;a[businessAddressFields[1]+"Overlay"]=OPEN.ValidatorMaps.RuleMapBusiness.businessStreetAddressLine2;a[businessAddressFields[2]+"Overlay"]=OPEN.ValidatorMaps.RuleMapBusiness.businessCity;a[businessAddressFields[3]+"Overlay"]=OPEN.ValidatorMaps.RuleMapBusiness.businessState;a[businessAddressFields[4]+"Overlay"]=OPEN.ValidatorMaps.RuleMapBusiness.businessZip;return a};OPEN.ValidatorMaps.OverlayPersonalFormRules=function(){var a=new Object();a[homeAddressFields[0]+"Overlay"]=OPEN.ValidatorMaps.RuleMapPersonal.homeAddress;a[homeAddressFields[1]+"Overlay"]=OPEN.ValidatorMaps.RuleMapPersonal.homeAddressLine2;a[homeAddressFields[2]+"Overlay"]=OPEN.ValidatorMaps.RuleMapPersonal.homeAddressCity;a[homeAddressFields[3]+"Overlay"]=OPEN.ValidatorMaps.RuleMapPersonal.homeAddressState;a[homeAddressFields[4]+"Overlay"]=OPEN.ValidatorMaps.RuleMapPersonal.homeAddressZip;return a}}OPEN.ValidatorMaps.RuleMapBusiness={businessName:{rulel:{validator:"required",msg:"Your Business Name is required to process the application"},rule2:{validator:function(a){if(a.value.length>0){return this.validChar(a)}return true},msg:"The first character in your Business Name must be a letter"},rule3:{validator:"validCharsAlphaNumExt2",msg:"Your Business Name cannot contain special characters other than '@&-"},rule4:{validator:"minLength",args:{len:1},msg:"Your Business Name is required to process the application"}},businessNameOnCard:{rulel:{validator:"required",msg:"Your Business Name on Card is required to process the application"},rule2:{validator:function(a){if(a.value.length>0){return this.validChar(a)}return true},msg:"The first character in your Business Name on Card must be a letter"},rule3:{validator:function(a){var h=$("input[name='businessName']").val();h=h.toLowerCase();var b=a.value.toLowerCase();if(h===b){return true}else{return this.validCharsAlphaNumExt2(a)}},msg:"Your Business Name on Card cannot contain special characters other than '@&-"},rule4:{validator:"minLength",args:{len:1},msg:"Your Business Name on Card is required to process the application"},rule5:{validator:"maxLength",args:{len:20},msg:"Your Business Name on Card cannot exceed 20 characters. Please shorten or change the name if necessary"}},businessStreetAddress:{rulel:{validator:"required",msg:"Your Business Address Line 1 may be used to verify your business address and is required to process the application"},rule2:{validator:function(a){return/^[\s]/i.test(a.value)?false:true},msg:"Your Business Address Line 1 cannot begin with a space."},rule3:{validator:"validCharsAlphaNumExt",msg:"Your Business Address Line 1 cannot contain special characters other than #&,/.-"},rule4:{validator:"minLength",args:{len:1},msg:"Your Business Address Line 1 may be used to verify your business address and is required to process the application"},rule5:{validator:"maxLength",args:{len:40},msg:"Your Business Address Line 1 cannot exceed 20 characters. Please use abbreviations"},rule6:{validator:"validateNoPoBox",msg:"Your Business Address Line 1 cannot contain a PO Box"}},businessStreetAddressLine2:{rule1:{validator:function(a){return/^[\s]/i.test(a.value)?false:true},msg:"Your Business Address Line 2 cannot begin with a space."},rule2:{validator:"validCharsAlphaNumExt",msg:"Your Business Address Line 2 cannot contain special characters other than #&,/.-"},rule3:{validator:"maxLength",args:{len:40},msg:"Your Business Address Line 2 cannot exceed 40 characters. Please use abbreviations"},rule4:{validator:"validateNoPoBox",msg:"Your Business Address Line 2 cannot contain a PO Box"}},businessZip:{rulel:{validator:"required",msg:"Your Business Zip Code is required to process the application"},rule2:{validator:"validNumbers",msg:"Your Business Zip Code should only contain numbers"},rule3:{validator:"maxLength",args:{len:5},msg:"Your Business Zip Code cannot exceed five (5) digits"},rule4:{validator:"exactLength",args:{len:5},msg:"Your Business Zip Code must contain five (5) digits."}},businessCity:{rulel:{validator:"required",msg:"Your Business City is required to process the application"},rule2:{validator:function(a){return/[0-9]/i.test(a.value)?false:true},msg:"Your Business City cannot contain any numbers"},rule3:{validator:"validCharsExt3",msg:"Your Business City cannot contain special characters other than .-"},rule4:{validator:"minLength",args:{len:1},msg:"Your Business City is required to process the application"}},businessState:{rulel:{validator:"required",msg:"Your Business State is required to process the application"}},businessPhone:{rulel:{validator:"required",msg:"Your Business Phone Number is required to process the application"},rule2:{validator:"validCharsAlphaNumExt10",msg:"Your Business Phone Number should only contain numbers"},rule3:{validator:function(b){var d=OPEN.formatPhone(b.value);return/^\(\d{3}\)\s\d{3}(-)\d{4}$/.test(d)},msg:"Your Business Phone Number must be ten (10) digits"}},emailAddress:{rulel:{validator:"required",msg:"Your Email Address is required to process the application"},rule2:{validator:function(a){return/[\s]/i.test(a.value)?false:true},msg:"Your Email Address cannot contain any spaces"},rule3:{validator:function(a){return !/@/i.test(a.value)?false:true},msg:"Your Email Address is missing @ symbol"},rule4:{validator:function(a){return !/\./i.test(a.value)?false:true},msg:"Your Email Address is missing a period (.)"},rule5:{validator:"email",msg:"Your Email Address cannot contain special characters other than @ . - _"},rule6:{validator:"invalidemail",msg:"Please enter a valid Email Address in the format name@provider.com"}},typeofIndustry:{rulel:{validator:"required",msg:"Your Type of Business is required to process the application"}},legalStructure:{rulel:{validator:"required",msg:"Your Company Structure is required to process the application"}},roleInCompany:{rulel:{validator:"required",msg:"Your Role in Company is required to process the application"}},annualBusinessRevenue:{rulel:{validator:"required",msg:"Your Annual Business Revenue is required to process the application"}},yearsinOperation:{rulel:{validator:"required",msg:"Your Years In Business is required to process the application"}},numberOfEmployees:{rulel:{validator:"required",msg:"Your Number of Employees is required to process the application"},rule2:{validator:"validNumbers",msg:"Your Number of Employees should only contain numbers"},rule3:{validator:"maxLength",args:{len:3},msg:"Your Number of Employees must be between 1 and 999"},rule4:{validator:function(a){if(a.value>999||a.value<1){return false}return true},msg:"Your Number of Employees must be between 1 and 999"}},taxId:{rule1:{validator:function(h){var e=$("select[name='legalStructure']");if(e.length>0&&$(e).prop("selectedIndex")!=3){if(!this.required(h)){if(!this.skiprule(h)){this.RuleMap.taxId.rule1.msg="Your Federal Tax ID is required to process the application";return false}}}if(!this.validCharsAlphaNumExt7(h)){this.RuleMap.taxId.rule1.msg="Your Federal Tax ID should only contain numbers";return false}if($("#taxId").val().length>0){var b=OPEN.formatTaxid(h.value);var a=/^\d{2}([\- ])\d{7}$/.test(b);if(!a){this.RuleMap.taxId.rule1.msg=" Your Federal Tax ID must contain nine (9) digits";return false}}return true},msg:"Your Federal Tax ID is required to process the application"}},estimatedMonthlySpend:{rule1:{validator:"validNumbersBT",msg:"Your Estimated Monthly Spend should only contain numbers"}},costcoMemberNumber:{rulel:{validator:"required",msg:"You must enter your Costco Membership Number in order to process your application. This is the number above your name on the back of your Costco Membership Card.",suppmsg:"You must enter the employee's Costco Membership Number in order to process the application. This is the number above his/her name on the back of the Costco Membership Card"},rule2:{validator:function(a){return/[\s]/i.test(a.value)?false:true},msg:"Your Costco Membership Number should not contain any spaces",suppmsg:"Your Costco Membership Number should not contain any spaces"},rule3:{validator:"validNumbers",msg:"Your Costco Membership Number should contain only numbers",suppmsg:"Your Costco Membership Number should contain only numbers"},rule4:{validator:"exactLength",args:{len:15},msg:"Your Costco Membership Number must contain 15 digits"},rule6:{validator:"maxLength",args:{len:15},msg:"Your Costco Membership Number must contain 15 digits"}}};OPEN.ValidatorMaps.RuleMapPersonal={firstName:{rulel:{validator:"required",msg:"Your First Name is required to process the application",suppmsg:"The Employee First Name is required to process the application"},rule2:{validator:function(a){if(a.value.length>0){return this.validChar(a)}return true},msg:"The first character in your First Name must be a letter",suppmsg:"The first character in your Employee First Name  must be a letter"},rule3:{validator:"excludeNumbers",msg:"Your First Name cannot contain numbers",suppmsg:"Your Employee First Name cannot contain numbers"},rule4:{validator:"validCharsExt2",msg:"Your First Name cannot contain special characters other than .,/&'-",suppmsg:"Your Employee First Name cannot contain special characters other than .,/&'-"},rule5:{validator:"minLength",args:{len:1},msg:"Your First Name is required to process the application"},rule6:{validator:"maxLength",args:{len:15},msg:"Your First Name cannot exceed 15 characters"}},middleName:{rule1:{validator:function(a){if(a.value.length>0){return this.validChar(a)}return true},msg:"The character in your Middle Initial must be a letter"},rule2:{validator:function(a){if(a.value.length>0){return this.validChars(a)}return true},msg:"Your Middle Initial cannot contain special characters such as #,?,etc."}},lastName:{rulel:{validator:"required",msg:"Your Last Name is required to process the application",suppmsg:"The Employee Last Name is required to process the application"},rule2:{validator:function(a){if(a.value.length>0){return this.validChar(a)}return true},msg:"The first character in your Last Name must be a letter",suppmsg:"The first character in your Employee Last Name must be a letter"},rule3:{validator:"excludeNumbers",msg:"Your Last Name cannot contain numbers",suppmsg:"Your Employee Last Name cannot contain numbers"},rule4:{validator:"validCharsExt2",msg:"Your Last Name cannot contain special characters other than .,/&'-",suppmsg:"Your Employee Last Name cannot contain special characters other than .,/&'-"},rule5:{validator:"minLength",args:{len:1},msg:"Your Last Name is required to process the application"},rule6:{validator:"maxLength",args:{len:20},msg:"Your Last Name cannot exceed 20 characters"}},cardNumber:{rulel:{validator:"required",msg:"Your Card Number is required to process the application"},rule2:{validator:"validNumbers",msg:"Your Card Number should only contain numbers"},rule3:{validator:"maxLength",args:{len:5},msg:"Your Card Numebr cannot exceed five (5) digits"},rule4:{validator:"exactLength",args:{len:5},msg:"Your Card Number must contain five (5) digits."}},nameOnCard:{rulel:{validator:"required",msg:"Your Name on Card is required to process the application",suppmsg:"The employee's Name on Card is required to process the application"},rule2:{validator:function(a){if(a.value.length>0){return this.validChar(a)}return true},msg:"The first character in your Name on Card must be a letter",suppmsg:"The first character in the employee's Name on Card must be a letter"},rule3:{validator:"excludeNumbers",msg:"Your Name on Card cannot contain numbers",suppmsg:"The employee's Name on Card cannot contain numbers"},rule4:{validator:"validCharsExt2",msg:"Your Name on Card cannot contain special characters other than .,/&'-",suppmsg:"The employee's Name on Card cannot contain special characters other than .,/&'-"},rule5:{validator:"minLength",args:{len:1},msg:"Your Name on Card is required to process the application"},rule6:{validator:"maxLength",args:{len:20},msg:"Your Name on Card cannot exceed 20 characters"}},dateOfBirth:{rulel:{validator:"required",msg:"Your Date of Birth is required to process the application",suppmsg:"The employee's Date of Birth is required to process the application"},rule2:{validator:"validCharsAlphaNumExt8",msg:"Your Date of Birth should only contain numbers",suppmsg:"The employee's Date of Birth should only contain numbers"},rule3:{validator:function(b){return/^\d{2}\/\d{2}\/\d{4}$/.test(b.value)},msg:"Please enter a valid date format(mm/dd/yyyy)",suppmsg:"Please enter a valid date format(mm/dd/yyyy)"},rule4:{validator:function(d){var j=true;date=d.value.replace(/\//g,"");var l=date.substring(0,2);var e=date.substring(2,4);var h=date.substring(4,8);j=this.validateMonth(l);if(!j){this.RuleMap.dateOfBirth.rule4.msg="The Month you entered is invalid (mm/dd/yyyy)";this.RuleMap.dateOfBirth.rule4.suppmsg="The Month you entered is invalid (mm/dd/yyyy)";return false}j=this.validateDayMonth({m:l,d:e});if(!j){this.RuleMap.dateOfBirth.rule4.msg="The Day you entered is invalid for the entered month (mm/dd/yyyy)";this.RuleMap.dateOfBirth.rule4.suppmsg="The Day you entered is invalid for the entered month (mm/dd/yyyy)";return false}j=this.validateDayYear({m:l,d:e,y:h});if(!j){this.RuleMap.dateOfBirth.rule4.msg="The Year you entered is invalid for the entered Day (mm/dd/yyyy)";this.RuleMap.dateOfBirth.rule4.suppmsg="The Year you entered is invalid for the entered Day (mm/dd/yyyy)";return false}var b=this.validateAgeRangeBasic({m:l,d:e,y:h},{lower:18,upper:125});if(b=="underRangeLimit"){this.RuleMap.dateOfBirth.rule4.msg="All applicants must be 18 years old or older.";this.RuleMap.dateOfBirth.rule4.suppmsg="All applicants must be 18 years old or older.";return false}else{if(b=="overRangeLimit"){this.RuleMap.dateOfBirth.rule4.msg="You must be less than 125 years old to apply";this.RuleMap.dateOfBirth.rule4.suppmsg="The employee must be less than 125 years old to apply";return false}}return j},msg:"Please enter a valid date(mm/dd/yyyy)",suppmsg:"Please enter a valid date(mm/dd/yyyy)"}},homeAddress:{rulel:{validator:"required",msg:"Your Home Address Line 1 is required to process the application"},rule2:{validator:"validCharsAlphaNumExt",msg:"Your Home Address Line 1 cannot contain special characters other than #&,/.-"},rule3:{validator:"minLength",args:{len:1},msg:"Your Home Address Line 1 is required to process the application"},rule4:{validator:"maxLength",args:{len:40},msg:"Your Home Address Line 1 cannot exceed 20 characters"},rule5:{validator:"validateNoPoBox",msg:"Your Home Address Line 1 cannot contain a PO Box.Please enter a physical address."}},homeAddressLine2:{rule1:{validator:"validCharsAlphaNumExt",msg:"Your Home Address Line 2 cannot contain special characters other than #&,/.-"},rule2:{validator:"maxLength",args:{len:40},msg:"Your Home Address Line 2 cannot exceed 40 characters"},rule3:{validator:"validateNoPoBox",msg:"Your Home Address Line 2 cannot contain a PO Box.Please enter a physical address."}},homeAddressZip:{rulel:{validator:"required",msg:"Your Home Zip Code is required to process the application"},rule2:{validator:"validNumbers",msg:"Your Home Zip Code should only contain numbers"},rule3:{validator:"maxLength",args:{len:5},msg:"Your Home Zip Code cannot exceed five (5) digits"},rule4:{validator:"exactLength",args:{len:5},msg:"Your Home Zip Code must contain five (5) digits."}},homeAddressCity:{rulel:{validator:"required",msg:"Your Home City is required to process the application"},rule2:{validator:"validCharsExt3",msg:"Your Home City cannot contain numbers or special characters other than .-"},rule3:{validator:"minLength",args:{len:1},msg:"Your Home City is required to process the application"},rule4:{validator:"maxLength",args:{len:20},msg:"Your Home City cannot exceed 20 characters"}},homeAddressState:{rulel:{validator:"required",msg:"Your Home State is required to process the application"}},phone:{rulel:{validator:"required",msg:"Your Home Phone Number is required to process the application"},rule2:{validator:"validCharsAlphaNumExt10",msg:"Your Home Phone Number should only contain numbers"},rule3:{validator:function(b){var d=OPEN.formatPhone(b.value);return/^\(\d{3}\)\s\d{3}(-)\d{4}$/.test(d)},msg:"Your Home Phone Number must contain ten (10) digits"}},personalAlternatePhone:{rule1:{validator:function(b){if(b.value.length>0){var d=OPEN.formatPhone(b.value);return/^\(\d{3}\)\s\d{3}(-)\d{4}$/.test(d)}return true},msg:"Your Cell Phone Number should only contain numbers and must contain ten (10) digits"}},social:{rule1:{validator:function(b){if(!this.required(b)){if(!this.skiprule(b)){return false}}return true},msg:"Your Social Security Number is required to process the application",suppmsg:"The employee's Social Security Number is required to process the application"},rule2:{validator:"validCharsAlphaNumExt7",msg:"Your Social Security Number should only contain numbers",suppmsg:"The employee's Social Security Number should only contain numbers"},rule3:{validator:function(b){if(b.value.length>0){var d=OPEN.formatSSN(b.value);return/^\d{3}([\- ])\d{2}([\- ])\d{4}$/.test(d)}return true},msg:"Your Social Security Number must be nine (9) digits long",suppmsg:"The employee's Social Security Number must be nine (9) digits long"},rule4:{validator:"socialSecurity",msg:"The Social Security Number you entered is invalid",suppmsg:"The Social Security Number you entered is invalid"}},annualHouseholdIncome:{rulel:{validator:"required",msg:"Your Total Annual Income is required to process the application"}},deltaSkyMilesNumber:{rule1:{validator:"validNumbers",msg:"Your Delta SkyMiles Number should only contain numbers"},rule2:{validator:function(b){var a=$("input[name='deltaSkyMilesNumber']").val();if(a.length>0){return(this.validNumbers(b)&&this.exactLength(b,{len:10}))?true:false}return true},msg:"Your Delta SkyMiles Number must contain 10 digits."}},starwoodPreferredGuestNumber:{rule1:{validator:"validNumbers",msg:"Your Starwood Preferred Guest Number should only contain numbers"},rule2:{validator:"maxLength",args:{len:13},msg:"Your Starwood Preferred Guest Number cannot exceed 13 characters"}},employeeCId:{rule1:{validator:function(b){return/[\s]/i.test(b.value)?false:true},msg:"Your CID Number cannot contain any spaces"},rule2:{validator:"validCharsAlphaNumExt5",msg:"Your CID Number cannot contain special characters other than #,?,etc."},rule3:{validator:"maxLength",args:{len:5},msg:"Your CID Number cannot exceed (5) characters"}},cardType:{rulel:{validator:"required",msg:'A selection in the "Card Type" field is required to process the application'}}};OPEN.ValidatorMaps.RuleMapCM={amexCardNumber:{rulel:{validator:"required",msg:"Your Card Account Number is required to process the application"},rule2:{validator:"validNumbers",msg:"Please only enter numbers for your Card Account Number."},rule3:{validator:"maxLength",args:{len:15},msg:"Your Card Number cannot exceed Fifteen (15) digits"},rule4:{validator:"exactLength",args:{len:15},msg:"Your Card Account Number cannot be fewer than 15 digits."}},cidNum:{rulel:{validator:"required",msg:"Your Card Identification Number is required to process the application"},rule2:{validator:"validNumbers",msg:"You can only enter numbers for your Card Identification Number."},rule3:{validator:"minLength",args:{len:4},msg:"Your Card Identification Number cannot be fewer than 4 digits."}},socialSecurity3:{rulel:{validator:"required",msg:"Your Social Security Number is required to process the application"},rule2:{validator:"validCharsAlphaNumExt7",msg:"Your Social Security Number should only contain numbers."},rule3:{validator:"exactLength",args:{len:4},msg:"Your Social Security Number must be four (4) digits long."}}};OPEN.ValidatorMaps.RuleMapCID={cardId:{rulel:{validator:"required",msg:"Your Card Identification Number is required to process the application"},rule2:{validator:"validNumbers",msg:"You can only enter numbers for your Card Identification Number"},rule3:{validator:"minLength",args:{len:4},msg:"Your Card Identification Number cannot be fewer than 4 digits."}}};OPEN.ValidatorMaps.RuleMapLogin={userid:{rulel:{validator:"required",msg:"Your User ID is required to access the Card Member application."},rule2:{validator:function(a){return/^[A-Za-z0-9\s'@&-]*$/i.test(a.value)},msg:"This field contains invalid characters."},rule3:{validator:"maxLength",args:{len:30},msg:"Your User ID cannot exceed 30 characters"}},password:{rulel:{validator:"required",msg:"Your Password is required to access the Card Member application."},rule2:{validator:function(a){return/[\s]/i.test(a.value)?false:true},msg:"Your Password should not contain space(s)."},rule3:{validator:"maxLength",args:{len:20},msg:"Your password cannot exceed 20 characters"}}};OPEN.ValidatorMaps.GCTLogin={gctuserid:{rulel:{validator:"required",msg:"Your User ID is required to access the Card Member application."},rule2:{validator:function(a){return/^[A-Za-z0-9\s'@&-]*$/i.test(a.value)},msg:"This field contains invalid characters."},rule3:{validator:"maxLength",args:{len:30},msg:"Your User ID cannot exceed 30 characters"}},gctpassword:{rulel:{validator:"required",msg:"Your Password is required to access the Card Member application."},rule2:{validator:function(a){return/[\s]/i.test(a.value)?false:true},msg:"Your Password should not contain space(s)."},rule3:{validator:"maxLength",args:{len:20},msg:"Your password cannot exceed 20 characters"}}};OPEN.ValidatorMaps.RuleMapTransferBal={bt1_Acct_Num:{rulel:{validator:"required",msg:"Your Credit Card Number is required to process the application."},rule2:{validator:"validNumbers",msg:"Your Credit Card Number should only contain numbers"},rule3:{validator:"minLength",args:{len:16},msg:"Your Credit Card Number must contain atleast (16) digits."},rule4:{validator:"maxLength",args:{len:16},msg:"Your Credit Card Number cannot exceed 16 characters."}},bt2_Acct_Num:{rulel:{validator:"required",msg:"Your Credit Card Number is required to process the application."},rule2:{validator:"validNumbers",msg:"Your Credit Card Number should only contain numbers"},rule3:{validator:"minLength",args:{len:16},msg:"Your Credit Card Number must contain atleast (16) digits."},rule4:{validator:"maxLength",args:{len:16},msg:"Your Credit Card Number cannot exceed 16 characters."}},bt1_Payee:{rulel:{validator:"required",msg:"Your Card Issuer is required to process the application."},rule2:{validator:"excludeNumbers",msg:"Your Card Issuer cannot contain any numbers."},rule3:{validator:"maxLength",args:{len:25},msg:"Your Card Issuer cannot exceed 25 characters."},rule4:{validator:"validCharsExt4",msg:"Your Card Issuer cannot contain special characters other than -'./ ,"}},bt2_Payee:{rulel:{validator:"required",msg:"Your Card Issuer is required to process the application."},rule2:{validator:"excludeNumbers",msg:"Your Card Issuer cannot contain any numbers."},rule3:{validator:"maxLength",args:{len:25},msg:"Your Card Issuer cannot exceed 25 characters."},rule4:{validator:"validCharsExt4",msg:"Your Card Issuer cannot contain special characters other than -'./ ,"}},bt1_Amount:{rulel:{validator:"required",msg:"Your Transfer Amount is required to process the application."},rule2:{validator:"validNumbersBT",msg:"Your Transfer Amount should only contain numbers."},rule3:{validator:"maxLength",args:{len:7},msg:"Your Transfer Amount cannot exceed 5 numbers."},rule4:{validator:"validTranferAmunt",msg:"Your Transfer Amount must be between $100 and $15,000."},rule5:{validator:"minimumTranferAmount",msg:"Your  Minimum Transfer Amount must be  $100."}},bt2_Amount:{rulel:{validator:"required",msg:"Your Transfer Amount is required to process the application."},rule2:{validator:"validNumbersBT",msg:"Your Transfer Amount should only contain numbers."},rule3:{validator:"maxLength",args:{len:7},msg:"Your Transfer Amount cannot exceed 5 numbers."},rule4:{validator:"validTranferAmunt",msg:"Your Transfer Amount must be between $100 and $15,000."},rule5:{validator:"minimumTranferAmount",msg:"Your  Minimum Transfer Amount must be  $100."}}};OPEN.ValidatorMaps.SuppGroup=function(b){var e=new Object();var h=["firstNameonCard","secondNameonCard","thirdNameonCard","fourthNameonCard","fifthNameonCard"];var a=["firstCardSocialSecurity","secondCardSocialSecurity","thirdCardSocialSecurity","fourthCardSocialSecurity","fifthCardSocialSecurity"];var d=["firstCardDateofBirth","secondCardDateofBirth","thirdCardDateofBirth","fourthCardDateofBirth","fifthCardDateofBirth"];e["suppFirstName"+b]=OPEN.ValidatorMaps.RuleMapPersonal.firstName;e["suppLastName"+b]=OPEN.ValidatorMaps.RuleMapPersonal.lastName;e[h[b-1]]=OPEN.ValidatorMaps.RuleMapPersonal.nameOnCard;e[a[b-1]]=OPEN.ValidatorMaps.RuleMapPersonal.social;e.dateOfBirth={};$.extend(e.dateOfBirth,OPEN.ValidatorMaps.RuleMapPersonal.dateOfBirth);e[d[b-1]]=OPEN.ValidatorMaps.RuleMapPersonal.dateOfBirth;e["suppCostcoMemberNumber"+b]=OPEN.ValidatorMaps.RuleMapBusiness.costcoMemberNumber;e["suppCostcoMemberNumber"+b].rule7={validator:function(r){if(typeof parentCostcoMembership!="undefined"){var q=parentCostcoMembership}var n=$(r).val();var s=$(r).attr("id");var u=0;var v=$(".add-card-wrap input[id^=suppCostcoMemberNumber]").not("input[id="+s+"]");if(q==n){return false}$.each(v,function(j){console.log("hello");var l=$(this).val();if(l!=""&&l==n){u=2;return false}else{u=0}});if(u==0){return true}else{return false}},msg:"Each Additional Cardmember must have their own unique Costco membership number in their name. We will not be able to process an application for an Additional Card if the individual's membership number is not unique from other membership numbers entered on this application.",suppmsg:"Each Additional Cardmember must have their own unique Costco membership number in their name. We will not be able to process an application for an Additional Card if the individual's membership number is not unique from other membership numbers entered on this application."};return e};var _QASJSONResponse={};var _QASJSONResponseStatus="";var businessSubmitChk=false;var personalSubmitChk=false;var payloadObjForQASCall=["addressLine1","addressLine2","addressCity","addressState","addressZip"];homeAddressFields=["homeAddress","homeAddressLine2","homeAddressCity","homeAddressState","homeAddressZip"];businessAddressFields=["businessStreetAddress","businessStreetAddressLine2","businessCity","businessState","businessZip"];function showSuggestedAddressOverlay(j){var e=false;if(j=="_eventId_businessInfoSubmit"){var a=businessAddressFields}else{if(j=="_eventId_personalInfoSubmit"){if($("[name='homeAndBusSameAddress']").is(":checked")){personalSubmitChk=true;_QASJSONResponse.homeAddressZip=_QASJSONResponse.businessZip;$("#_eventId_personalInfoSubmit").click();return false}a=homeAddressFields}}var h={};var b="";for(kk=0;kk<a.length;kk++){h[payloadObjForQASCall[kk]]=$("[name='"+a[kk]+"']").val()}h.appId=$("[name=appId]").val();var d=document.forms.prospectAppForm;url=$("#prospectAppForm").attr("action");$.ajax({url:qasUrl,type:"POST",data:h,dataType:"json",beforeSend:function(){$("#qasMask").show().addClass("loaderImage");$(window).scrollTop(0)},error:function(l,q,n){followUpAction(j);console.log("error-----------------")},success:function(q){$("#qasMask").removeClass("loaderImage");var B=q.addressObject;console.log(B.STATUS);if(B.STATUS!="SUCCESS"){followUpAction(j);console.log("_dataObj.STATUS :: "+B.STATUS)}else{console.log("POST success");console.log("POST success --------------- "+B.RESPONSE.verifyLevel);_QASJSONResponseStatus=B.RESPONSE.verifyLevel;_QASJSONResponseStatus=_QASJSONResponseStatus.toLowerCase();var t=B.RESPONSE.qaaddress;var D=B.RESPONSE.verificationFlags;var l=false;var u=false;var s="";var C=0;_QASJSONResponse.pbsaIndicator="";if(D!=null){for(k in D){if(D[k]==true){C++}}}if(t!=null){for(i=0;i<t.addressLine.length;i++){var A=t.addressLine[i].label;A=A.toLowerCase();var x=t.addressLine[i].line;if(i<6){if(i!=2){s+="<span class='label_"+A+"'>"+x+"</span>"}if(i==5){var y=x;y=y.split("-");_QASJSONResponse[a[a.length-1]]=y[0]+""+y[1]}}else{if(C==1&&D.postCodeCorrected==true){if(A.indexOf("zip5")!=-1&&x==1){l=true}else{if(A.indexOf("zip4")!=-1&&x==1){u=true}}}}}}else{_QASJSONResponse[a[a.length-1]]=""}$("#promptAddressOverlay .updateAddressBlock").html("");var n="";for(oa=0;oa<a.length;oa++){var r=$("[name="+a[oa]+"]").val();if(oa==1){n+="<br>";if(r!=""&&r!=undefined){n+=r+"<br>"}}else{n+=r+" "}}$("#promptAddressOverlay .originalAddress .addressBlock").html("<input type='radio' name='suggestedAddress' id='originalAddr' value='original'><span class='radio-normal'></span><label for='originalAddr'>"+n+"</label>");if(_QASJSONResponseStatus.indexOf("partial")==-1&&_QASJSONResponseStatus.indexOf("none")==-1&&_QASJSONResponseStatus.indexOf("multiple")==-1){if(l==false&&u==true){followUpAction(j);return false}$("#promptAddressOverlay .suggestStatement").text("The address you entered did not match a US postal address. Below is a recommended address with minor formatting corrections. Please confirm the recommended address or keep your original address.");$("#promptAddressOverlay .suggestedAddress").html("<h5>Recommended Address(es)</h5><div class='addressBlock'><input type='radio' name='suggestedAddress' value='suggested' id='suggestedAddr'><span class='radio-normal'></span><label class='pickAddress' for='suggestedAddr'>"+s+"</label></div>");$(".suggestedAddress").show()}else{$(".suggestedAddress").html("").hide();var w="The address you entered did not match a US postal address. Please confirm the original address or update the original address.";$("#promptAddressOverlay .suggestStatement").text(w);$("#promptAddressOverlay .updateAddressBlock").append("<input type='radio' name='suggestedAddress' value='updated' id='updatedAddr'><span class='radio-normal'></span><label for='updatedAddr'>Update Original Address</label><div class='clear'></div>");for(k=0;k<a.length;k++){$("#promptAddressOverlay .updateAddressBlock").append("<ul class='rowitem item"+k+"'></ul>");var v=$("[name='"+a[k]+"']").closest(".txt-field").clone();var z=$("[name='"+a[k]+"']",v);z.prop("name",z.attr("name")+"Overlay");z.prop("id",z.attr("id")+"Overlay");z.val($("[name='"+a[k]+"']").val());z.prev("label").prop("for",z.attr("id"));v.appendTo($("#promptAddressOverlay .updateAddressBlock .rowitem.item"+k));if(k==1){$("#promptAddressOverlay .updateAddressBlock").append("<div class='clear'></div>")}}$("#promptAddressOverlay .updateAddressBlock").show()}$("#promptAddressOverlay [name=suggestedAddress]:last").prop("checked",true);$("#promptAddressOverlay [name=suggestedAddress]:last").siblings("span").addClass(rdoChkd);qasPopMobile();$("#promptAddressOverlay a, #promptAddressOverlay input, #promptAddressOverlay select").attr("tabindex","999");$("#promptAddressOverlay h4").attr("tabindex","-1").focus();$("#promptAddressOverlay").on("click touch","input[name=suggestedAddress]",function(E){$("#promptAddressOverlay [name=suggestedAddress]").siblings("span").removeClass("radio-checked");$("#promptAddressOverlay [name=suggestedAddress]").removeAttr("checked");$(this).siblings("span").addClass("radio-checked");$(this).attr("checked","checked")});$("html, body").animate({scrollTop:0},"fast");$("[name="+homeAddressFields[homeAddressFields.length-1]+"],[name="+businessAddressFields[businessAddressFields.length-1]+"]").change(function(){var E=$(this).attr("name");updateZipBeforeSubmitAction("change",E)})}}})}function qasPopMobile(){$("#promptAddressOverlay").show();$(window).width()>660&&alinMiddle($("#promptAddressOverlay"));if($(window).width()<660){$("#qasMask").hide();$("body").removeClass("moveLt").addClass("moveRt");$("html").addClass("fullHt");if($("#iNavPopOverlay").length<=0){$(document.createElement("div")).attr("id","iNavPopOverlay").appendTo($("body")).css({display:"block","min-height":document.documentElement.clientHeight})}$(".call-to-apply-wrap,.toaster").hide();$("#iNavPopOverlay").bind("touchstart click",function(a){$("html").removeClass("fullHt");$("#iNavPopOverlay").remove();$(".toaster").show();$("body").removeClass("moveRt").addClass("moveLt");closeMenu();a.preventDefault()});closeMenu=function(){$("#iNavPopOverlay").remove();$("html").removeClass("fullHt");$("#qasMask, #promptAddressOverlay").hide();$("#iNavPopOverlay").unbind("touchstart");$(".toaster,.call-to-apply-wrap").show();$(window).scrollTop(0);$("body").removeClass("moveRt").addClass("moveLt");window.setTimeout(function(){$("body").removeClass("moveLt");$("html").removeClass("fullHt")},350);$("body").css({overflow:"auto",height:"100%"})}}else{$("#qasMask").show();$(window).scrollTop(0)}}function followUpAction(a){$("#qasMask").hide();if(a=="_eventId_businessInfoSubmit"){businessSubmitChk=true;$("#_eventId_businessInfoSubmit").click()}else{if(a=="_eventId_personalInfoSubmit"){personalSubmitChk=true;$("#_eventId_personalInfoSubmit").click()}}}function updateZipBeforeSubmitAction(a,b){if(a=="change"){_QASJSONResponse[b]=""}else{for(key in _QASJSONResponse){if(_QASJSONResponse[key]!=""&&_QASJSONResponse[key]!=undefined){var d=_QASJSONResponse[key];if(a=="revert"){d=d.substring(0,5)}$("[name="+key+"]").val(d)}}}}OPEN.Validate.PersonalForm=OPEN.Validator(OPEN.ValidatorMaps.RuleMapPersonal);OPEN.Validate.PersonalForm.Overlay=OPEN.Overlay;OPEN.Validate.BusinessForm=OPEN.Validator(OPEN.ValidatorMaps.RuleMapBusiness);OPEN.Validate.BusinessForm.Overlay=OPEN.Overlay;OPEN.Validate.loginForm=OPEN.Validator(OPEN.ValidatorMaps.RuleMapLogin);OPEN.Validate.loginForm.Overlay=OPEN.Overlay;OPEN.Validate.gctloginForm=OPEN.Validator(OPEN.ValidatorMaps.GCTLogin);OPEN.Validate.gctloginForm.Overlay=OPEN.Overlay;OPEN.Validate.cmForm=OPEN.Validator(OPEN.ValidatorMaps.RuleMapCM);OPEN.Validate.cmForm.Overlay=OPEN.Overlay;OPEN.Validate.cidForm=OPEN.Validator(OPEN.ValidatorMaps.RuleMapCID);OPEN.Validate.cidForm.Overlay=OPEN.Overlay;OPEN.Validate.TransferBalForm=OPEN.Validator(OPEN.ValidatorMaps.RuleMapTransferBal);OPEN.Validate.TransferBalForm.Overlay=OPEN.Overlay;OPEN.Validate.SuppGroup1=OPEN.Validator(OPEN.ValidatorMaps.SuppGroup(1));OPEN.Validate.SuppGroup1.Overlay=OPEN.Overlay;OPEN.Validate.SuppGroup2=OPEN.Validator(OPEN.ValidatorMaps.SuppGroup(2));OPEN.Validate.SuppGroup2.Overlay=OPEN.Overlay;OPEN.Validate.SuppGroup3=OPEN.Validator(OPEN.ValidatorMaps.SuppGroup(3));OPEN.Validate.SuppGroup3.Overlay=OPEN.Overlay;OPEN.Validate.SuppGroup4=OPEN.Validator(OPEN.ValidatorMaps.SuppGroup(4));OPEN.Validate.SuppGroup4.Overlay=OPEN.Overlay;OPEN.Validate.SuppGroup5=OPEN.Validator(OPEN.ValidatorMaps.SuppGroup(5));OPEN.Validate.SuppGroup5.Overlay=OPEN.Overlay;function sessionError(){window.location.href="/business-card-application/prospect-app/ao/sessionerror.jsp"}copyAddress={clearEdit:function(){$("#homeAndBusSameAddress").parent().find("p").hide();$("#homeAddress,#homeAddressLine2,#homeAddressCity,#homeAddressZip,#homeAddressState").prop("disabled",false);$("#homeAddress,#homeAddressLine2,#homeAddressZip,#homeAddressCity").parent().removeClass("disabled");$("#homeAddressState").parent().parent().removeClass("disabled")},copyEdit:function(a){if($("#homeAndBusSameAddress").is(":checked")){if($("#legalStructure").val()!="S"){$("#homeAndBusSameAddress").parent().find("p").show().removeClass("always-hide")}else{$("#homeAndBusSameAddress").parent().find("p").addClass("always-hide")}$("#homeAddress,#homeAddressLine2,#homeAddressZip,#homeAddressCity,#homeAddressState").prop("disabled",true);$("#homeAddress,#homeAddressLine2,#homeAddressZip,#homeAddressCity").parent().addClass("disabled");$("#homeAddressState").parent().parent().addClass("disabled");if($("#businessZip").val().length==5){$("#homeCityFld,#homeStateFld").show()}$("#homeAddress").val($("#businessStreetAddress").val());$("#homeAddressLine2").val($("#businessStreetAddressLine2").val());$("#homeAddressZip").val($("#businessZip").val());$("#homeAddressCity").val($("#businessCity").val());$("#homeAddressState").val($("#businessState").val());$("#homeStateFld .customStyleSelectBoxInner").text($("#businessState").find(":selected").text()).css({color:"#4d4f53","font-style":"normal"});$("#homeAddress,#homeAddressLine2,#homeAddressZip,#homeAddressCity").parent().removeClass("fieldErrors");$("#homeAddressState").parent().parent().removeClass("fieldErrors");$("#personal_home_address_result").html($("input[name=homeAddress]").val());$("#personal_home_address_line2_result").html($("input[name=homeAddressLine2]").val());$("#personal_city_result").html($("input[name=homeAddressCity]").val());$("#personal_state_result").html($("select[name=homeAddressState] option:selected").val());$("#personal_home_zipcode_result").html($("input[name=homeAddressZip]").val());OPEN.Overlay.hide();if($("#businessStreetAddressLine2").val()!=""){$("#personal_home_address_line2_result").show();$("#personal_home_address_line2_result").prev("br").size()<1?$("<br>").insertBefore("#personal_home_address_line2_result"):null}else{$("#personal_home_address_line2_result").hide();$("#personal_home_address_line2_result").prev("br").remove()}}else{if(a=="blur"){$("#homeAddress,#homeAddressLine2,#homeAddressZip,#homeAddressCity,#homeAddressState").blur()}this.clearEdit()}return true}};function displayHelp(b,d){var a=$(b).attr("tooltip");if(d&&d!=true){a+="<div class='hlp_errmsg'>Error : "+d+"</div>"}$(this).removeClass("clicked");$(".dropdown").hide();setTimeout(function(){OPEN.Overlay.show(b,a)},200);$(b).addClass("clicked")}function showEdit(){if($("#editInfo").parents(".costCo").length>0){$("#castcoMemNoFld").css("margin-top","110px")}$(".edit_transferBal,.yesTransferBalance").show();$(".verify_transferBal").hide();$(".verifyInfoDivider").addClass("infoDivider");$("#msg").hide();$("#crdForm").show();$("#_eventId_VerifySubmit").addClass("disabled");$("#BillAddr").show();$("#verify_BillAddr").hide();$(".CardMemberInfo").css("top","40px");if($(".middleContent").hasClass("costCo")){$(".CardMemberInfo").css("top","0px")}$($("#editInfo")).hide();$(".personalInfo :input[type!='submit']").parents(".fltLeft").removeClass("hglt");$(".businessInfo :input[type!='submit']").parents(".fltLeft").removeClass("hglt");$("#personal_name_card_result").select()}function suppFormSubmit(){$("#suppHeader").html("Please Confirm the Information You Entered");$("#empCards").hide();$(".suppBtns").width(120);$("#_eventId_skipstep").hide();$(".selectOrder").hide();$("#requiredInfo").hide();$(".rgtEditBtn").show();$("#cardsList").show();$(".viewCards").hide();populateSuppData()}function getCaretPosition(d){var b=0;if(document.selection){d.focus();var a=document.selection.createRange();a.moveStart("character",-d.value.length);b=a.text.length}else{if(d.selectionStart||d.selectionStart=="0"){b=d.selectionStart}}return(b)}function setSeperator(l,a,r,d,j){var q=a.substr(0,l);var s=a.lastIndexOf(j);var e=a.substring(l,a.length+1);if(a.charAt(l)!=j){a=q+j+e}if(d){$(r).val(a)}if(d!=0){setCaretPosition(r,l+1)}}function setCaretPosition(b,d){if(b.setSelectionRange){b.focus();b.setSelectionRange(d,d)}else{if(b.createTextRange){var a=b.createTextRange();a.collapse(true);a.moveEnd("character",d);a.moveStart("character",d);a.select()}}}function populateSuppData(){var q=$("#cardsList");var j=0;var n=1;var b,h;var e="",d="";var r=["firstCardSocialSecurity","secondCardSocialSecurity","thirdCardSocialSecurity","fourthCardSocialSecurity","fifthCardSocialSecurity"];var s=["firstCardDateofBirth","secondCardDateofBirth","thirdCardDateofBirth","fourthCardDateofBirth","fifthCardDateofBirth"];var l=["firstNameonCard","secondNameonCard","thirdNameonCard","fourthNameonCard","fifthNameonCard"];q.children(".supp-card-details:visible").each(function(a){var t=$(this).prop("id").substring(4,5);$(this).find(".nameOnCard-result").html($("#"+l[t-1]).val().toLowerCase());$(this).find("#suppFirstName"+t+"_result").html($("#suppFirstName"+t).val());$(this).find("#suppLastName"+t+"_result").html($("#suppLastName"+t).val());$(this).find(".socialsecurityno-verify-result").html($("#"+r[t-1]).val());$(this).find(".birthdate-verify-result").html($("#"+s[t-1]).val());$(this).find("#suppCostcoMemberNumber"+t+"_result").html($("#suppCostcoMemberNumber"+t).val());$(this).find(".subHead").html("card"+n++);if($("#suppPlasticInd"+t).val()){e=$("#suppPlasticInd"+t).val();d=$("#suppPlasticInd"+t+" :selected").text();b=$("#suppPlasticInd"+t+" :selected").html()}$(this).find(".ctype").html(b);$(this).find(".supp-cardart").removeClass().addClass("supp-cardart").addClass("pmc-"+e).prop("title",d);$(this).find(".supp-card-img").removeClass().addClass("supp-card-img").addClass("pmc-"+e).prop("title",d)})}function verifyInfoSubmit(){$(".rgtEditBtn").show();$("#businessInfoId").hide();$(".businessCard").show();$(".applyHead").hide();$(".headers").show();$("#bInfo").show();$("#personalInfoId").hide();$("#pInfo").show();$("#cardNum").show();$("#BillAddr").hide();$("#crdForm").hide();$("#msg").show();$("#editInfo").show();$("#verifySave").hide();$("#verify_BillAddr").show();$(".trms_Condn").show();$(".submitBtnCls").show();$("#castcoMemNoFld").hide();$("#emailAddrFld").hide();$(".before_footer_text").hide();$(".verifyInfo").css("height","auto");$(".CardMemberInfo").css("top","0px");$(".selectjetBlueCard").hide();$("#crdForm").find(".fieldErrors").removeClass("fieldErrors")}function populateDeltaData(){$("#delta_number_result").html($("input[name=deltaSkyMilesNumber]").val());if($("input[name=deltaSkyMilesNumber]").val()==""){$("#delta_skymiles_number_result").html("Existing Delta SkyMiles customers who do not provide a SkyMiles number will be assigned another number.")}}function populateCostcoData(){$("#costco_number_result").html($("input[name=costcoMemberNumber]").val())}function populateStarwoodData(){$("#starwood_preferred_guest_number_result").html($("input[name=starwoodPreferredGuestNumber]").val());if($("input[name=starwoodPreferredGuestNumber]").val()==""){$("#starwood_preferred_guest_number_result").html("Customers who do not provide Starwood numbers will be assigned new ones.")}}function populatePlumData(){$("#preferred_billing_date_result").html($("select[name=billingTime] option:selected").text())}function populateCnameData(){$("#business_name_cresult").html($("input[name='businessNameOnCard']").val());$("#personal_name_cresult").html($("input[name='nameOnCard']").val())}function populateBusinessData(){$("#business_name_result").html($("input[name=businessName]").val());$("#business_address_result").html($("input[name=businessStreetAddress]").val());$("#business_address_line2_result").html($("input[name=businessStreetAddressLine2]").val());$("#suite_number_result").html($("input[name=businessSuite]").val());$("#business_city_result").html($("input[name=businessCity]").val());$("#business_state_result").html($("select[name=businessState] option:selected").val());$("#business_zipcode_result").html($("input[name=businessZip]").val());$("#business_phone_result").html($("input[name=businessPhone]").val());if(typeof(isEmailMaskRequired)!="undefined"&&isEmailMaskRequired==true){$("#business_email_result").html(OPEN.formatEmail)}else{$("#business_email_result").html($("input[name=emailAddress]").val())}$("#business_type_result").html($("select[name=typeofIndustry] option:selected").text());$("#business_structure_result").html($("select[name=legalStructure] option:selected").text());$("#business_revenue_result").html($("select[name=annualBusinessRevenue] option:selected").text());$("#business_years_result").html($("select[name=yearsinOperation] option:selected").text());$("#business_employee_result").html($("input[name=numberOfEmployees]").val());if(!(window.location.href.indexOf("origin=snpa")!=-1&&$("#legalStructure").val()=="S")){$("#business_tax_id_result").html($("input[name=taxId]").val()).show().parent().show()}else{$("#business_tax_id_result").parent().hide()}if($("select[name=roleInCompany]").val()!=""){$("#roleInCompany_result").html($("select[name=roleInCompany] option:selected").text())}else{$("#roleInCompany_result").html("")}$("#estimatedMonthlySpend_result").html(OPEN.FormatCurrency($("input[name=estimatedMonthlySpend]").val()));if($("select[name=annualBusinessNetIncome]").val()!=""){$("#annualBusinessNetIncome_result").html($("select[name=annualBusinessNetIncome] option:selected").text())}else{$("#annualBusinessNetIncome_result").html("")}$("#businessWebsiteURL_result").html($("input[name=businessWebsiteURL]").val());$("#businessWebsiteURL_result").html($("input[name=businessWebsiteURL]").val());if($("#businessStreetAddressLine2").val()!=""){$("#business_address_line2_result").show();$("#business_address_line2_result").prev("br").size()<1?$("<br>").insertBefore("#business_address_line2_result"):null}else{$("#business_address_line2_result").hide();$("#business_address_line2_result").prev("br").remove()}}function populatePersonalData(){$("#personal_first_name_result").html($("input[name=firstName]").val());$("#personal_middle_name_result").html($("input[name=middleName]").val());$("#personal_last_name_result").html($("input[name=lastName]").val());$("#personal_birth_result").html($("input[name=dateOfBirth]").val());$("#personal_home_address_result").html($("input[name=homeAddress]").val());$("#personal_home_address_line2_result").html($("input[name=homeAddressLine2]").val());$("#personal_city_result").html($("input[name=homeAddressCity]").val());$("#personal_state_result").html($("select[name=homeAddressState] option:selected").val());$("#personal_home_zipcode_result").html($("input[name=homeAddressZip]").val());$("#home_phone_result").html($("input[name=phone]").val());$("#ssn_result").html($("input[name=social]").val());if($("input[name=personalAlternatePhone]").val()!=""){$("#cell_phone_result").html($("input[name=personalAlternatePhone]").val())}else{$("#cell_phone_result").html("")}$("#personal_annual_income_result").html($("select[name=annualHouseholdIncome] option:selected").text());$("#CID_No_Result").html($("input[name=employeeCId]").val());if($("#homeAddressLine2").val()!=""){$("#personal_home_address_line2_result").show();$("#personal_home_address_line2_result").prev("br").size()<1?$("<br>").insertBefore("#personal_home_address_line2_result"):null}else{$("#personal_home_address_line2_result").hide();$("#personal_home_address_line2_result").prev("br").remove()}}function populateBtData(){$(".yesTransferBalance2 .txt-field,.yesTransferBalance1 .txt-field").removeClass("fieldErrors");$("#bt1_Acct_Num_result").html($("input[name=bt1_Acct_Num]").val());$("#bt1_Payee_result").html($("input[name=bt1_Payee]").val());$("#bt1_Amount_result").html(OPEN.FormatCurrency($("input[name=bt1_Amount]").val()));$("#bt2_Acct_Num_result").html($("input[name=bt2_Acct_Num]").val());$("#bt2_Payee_result").html($("input[name=bt2_Payee]").val());$("#bt2_Amount_result").html(OPEN.FormatCurrency($("input[name=bt2_Amount]").val()))}$(".close,.okClose").live("click",function(){p=false;OPEN.Overlay.hide();if(!$(this).parent().hasClass("overlay_top")){$("#apCachemask").css("display","none");$(".overlay_winback_appCache").css("display","none")}});function printBnameOnCard(){var d=$("input[name='businessName']");var a=$(".businessInfo input[name='businessNameOnCard']");var b=true;a.blur(function(){b=(d.val()===$(this).val())?true:false});d.focus(function(){if(b){a.parent().parent().removeClass("fieldErrors")}});d.bind("keyup change ",function(h){if((b&&(this.value.length<=20))||(($("input[name='businessTypeSNPA']:radio").length>0)&&$("#businessNameOnCard").val().length<=20)){a.val(this.value.toUpperCase()).parent().removeClass("fieldErrors");if(h.keyCode!==9){($(this).hasClass("isMobile"))&&a.parents(".txt-field").find("label").hide()}}});window.onload=function(){if($(".verifyInfo").length==0){var e="";$(d).each(function(h){if(this.value.length){e=this.value}});if(b&&(e.length<=20)){a.val(e.toUpperCase());($(window).width()<660&&e!="")?a.parent().find("label").hide():null}}}}function printCardName(){var d=$("input[name='firstName'],input[name='middleName'],input[name='lastName']");var b=$("#hiddenNameOnCard");var j=true;this.g=function(){if(j){var e=a(d);if(e.length>20){e=e.charAt(0)+" "+d[2].value}if(e.length>20){e=e.slice(0,20)}b.val(e.toUpperCase())}};d.bind("keyup change",function(){g()});d.focus(function(){g();if(j){b.parent().parent().removeClass("fieldErrors");if(b.hasClass("blurVal")){b.removeClass("blurVal")}}});$(b).blur(function(){var e=a(d);j=(e.toUpperCase()===b.val())?true:false});b.bind("keyup change",function(){b.val(this.value.toUpperCase());var e=new Object();e.field=this;var h=OPEN.Validate.PersonalForm.validCharsExt2.call(OPEN.Validate.PersonalForm,e.field);e.msg=OPEN.ValidatorMaps.RuleMapPersonal.nameOnCard.rule4.msg;h?OPEN.Validate.PersonalForm.onFieldSuccess(e):OPEN.Validate.PersonalForm.onFieldError(e)});var a=function(e){var h="";$(e).each(function(n){if(this.value.length){h+=this.value;h+=" "}});return $.trim(h)}}function alinMiddle(j){var h=document;var e=Math.min(Math.min(h.body.scrollHeight,h.documentElement.scrollHeight),Math.min(h.body.offsetHeight,h.documentElement.offsetHeight),Math.min(h.body.clientHeight,h.documentElement.clientHeight));var d=j.outerHeight();var n=Math.min(Math.min(h.body.scrollWidth,h.documentElement.scrollWidth),Math.min(h.body.offsetWidth,h.documentElement.offsetWidth),Math.min(h.body.clientWidth,h.documentElement.clientWidth));var l=j.outerWidth();var a=Math.floor(e-d);var b=Math.floor((n-l)/2);a=(a<0)?95:a;b=(b<0)?0:b;j.css({left:b})}function printSuppsName(){var d=$("#supp-form input[name^='suppF'],input[name^='suppL'] ");var j=$("#supp-form input[name$='NameonCard']");var l={};var a=["firstNameonCard","secondNameonCard","thirdNameonCard","fourthNameonCard","fifthNameonCard"];j.each(function(){l[this.name]=true});d.bind("keyup change",function(){var r=$(this).parents(".add-card").index();var e="";var h=document.getElementById(a[r]);var n=$(this).parents(".add-card").find("input[name^='suppF']").val();var q=$(this).parents(".add-card").find("input[name^='suppL']").val();if(n.length>0||q.length>0){e=n+" "+q}if(e.length>20){e=e.charAt(0)+" "+q}if(e.length>20){e=e.slice(0,20)}($(window).width()<660)?$(h).parent().find("label").hide():null;h.value=e.toUpperCase();$(h).parents(".fieldErrors").removeClass("fieldErrors")});$(j).keyup(function(){$(this).val(this.value.toUpperCase())});$(j).bind("blur",function(){var h=$(this).parent().prev(".row").find("input");var e=b(h);l[this.name]=(e===this.value)?true:false});var b=function(h){var e="";$(h).each(function(n){if(this.value.length){e+=" ";e+=this.value;e+=" "}});return $.trim(e)}}function validateChange(h){var b=new Object();b.field=h;var e="";switch(h.name){case"businessCity":e="BusinessForm";var d=isNaN(b.field.value);if(!d){b.msg=OPEN.ValidatorMaps.RuleMapBusiness.businessCity.rule2.msg;break}d=OPEN.Validate.BusinessForm.validCharsExt3.call(OPEN.Validate.BusinessForm,b.field);b.msg=OPEN.ValidatorMaps.RuleMapBusiness.businessCity.rule3.msg;break;case"businessPhone":e="BusinessForm";var d=OPEN.Validate.BusinessForm.validCharsAlphaNumExt10.call(OPEN.Validate.BusinessForm,b.field);b.msg=OPEN.ValidatorMaps.RuleMapBusiness.businessPhone.rule2.msg;break;case"costcotin":case"taxId":e="BusinessForm";var d=OPEN.Validate.BusinessForm.validCharsAlphaNumExt7.call(OPEN.Validate.BusinessForm,b.field);b.msg=OPEN.ValidatorMaps.RuleMapBusiness.taxId.rule2.msg;break;case"numberOfEmployees":e="BusinessForm";var d=OPEN.Validate.BusinessForm.validNumbers.call(OPEN.Validate.BusinessForm,b.field);b.msg=OPEN.ValidatorMaps.RuleMapBusiness.numberOfEmployees.rule2.msg;break;case"estimatedMonthlySpend":e="BusinessForm";var d=OPEN.ValidatorMaps.RuleMapBusiness.estimatedMonthlySpend.rule1.validator(b.field);b.msg=OPEN.ValidatorMaps.RuleMapBusiness.estimatedMonthlySpend.rule1.msg;break;case"emailAddress":e="BusinessForm";var d=OPEN.Validate.BusinessForm.validCharsAlphaNumExt9.call(OPEN.Validate.BusinessForm,b.field);b.msg=OPEN.ValidatorMaps.RuleMapBusiness.emailAddress.rule5.msg;break;case"businessStreetAddress":e="BusinessForm";var d=OPEN.Validate.BusinessForm.validCharsAlphaNumExt.call(OPEN.Validate.BusinessForm,b.field);b.msg=OPEN.ValidatorMaps.RuleMapBusiness.businessStreetAddress.rule3.msg;break;case"businessStreetAddressLine2":m="BusinessForm";var j=OPEN.Validate.BusinessForm.validCharsAlphaNumExt.call(OPEN.Validate.BusinessForm,o.field);o.msg=OPEN.ValidatorMaps.RuleMapBusiness.businessStreetAddressLine2.rule2.msg;break;case"businessName":e="BusinessForm";var d=OPEN.Validate.BusinessForm.validChar.call(OPEN.Validate.BusinessForm,b.field);if(!d){b.msg=OPEN.ValidatorMaps.RuleMapBusiness.businessName.rule2.msg;break}d=OPEN.Validate.BusinessForm.validCharsAlphaNumExt2.call(OPEN.Validate.BusinessForm,b.field);b.msg=OPEN.ValidatorMaps.RuleMapBusiness.businessName.rule3.msg;break;case"firstName":e="PersonalForm";var d=OPEN.Validate.PersonalForm.validChar.call(OPEN.Validate.PersonalForm,b.field);if(!d){b.msg=OPEN.ValidatorMaps.RuleMapPersonal.firstName.rule2.msg;break}d=OPEN.Validate.PersonalForm.excludeNumbers.call(OPEN.Validate.PersonalForm,b.field);if(!d){b.msg=OPEN.ValidatorMaps.RuleMapPersonal.firstName.rule3.msg;break}d=OPEN.Validate.PersonalForm.validCharsExt2.call(OPEN.Validate.PersonalForm,b.field);b.msg=OPEN.ValidatorMaps.RuleMapPersonal.firstName.rule4.msg;break;case"middleName":e="PersonalForm";var d=isNaN(b.field.value);if(!d){b.msg=OPEN.ValidatorMaps.RuleMapPersonal.middleName.rule1.msg;break}d=OPEN.Validate.PersonalForm.validChars.call(OPEN.Validate.PersonalForm,b.field);b.msg=OPEN.ValidatorMaps.RuleMapPersonal.middleName.rule2.msg;break;case"lastName":e="PersonalForm";d=OPEN.Validate.PersonalForm.excludeNumbers.call(OPEN.Validate.PersonalForm,b.field);if(!d){b.msg=OPEN.ValidatorMaps.RuleMapPersonal.lastName.rule3.msg;break}d=OPEN.Validate.PersonalForm.validCharsExt0.call(OPEN.Validate.PersonalForm,b.field);b.msg=OPEN.ValidatorMaps.RuleMapPersonal.lastName.rule4.msg;break;case"homeAddressCity":e="PersonalForm";var d=OPEN.Validate.PersonalForm.validCharsExt3.call(OPEN.Validate.PersonalForm,b.field);b.msg=OPEN.ValidatorMaps.RuleMapPersonal.homeAddressCity.rule2.msg;break;case"phone":e="PersonalForm";var d=OPEN.Validate.PersonalForm.validCharsAlphaNumExt10.call(OPEN.Validate.PersonalForm,b.field);b.msg=OPEN.ValidatorMaps.RuleMapPersonal.phone.rule2.msg;break;case"personalAlternatePhone":e="PersonalForm";var d=OPEN.Validate.PersonalForm.validCharsAlphaNumExt10.call(OPEN.Validate.PersonalForm,b.field);b.msg=OPEN.ValidatorMaps.RuleMapPersonal.personalAlternatePhone.rule1.msg;break;case"costcoMemberNumber":e="BusinessForm";var d=OPEN.Validate.BusinessForm.validNumbers.call(OPEN.Validate.BusinessForm,b.field);b.msg=OPEN.ValidatorMaps.RuleMapBusiness.costcoMemberNumber.rule3.msg;break;case"businessNameOnCard":e="BusinessForm";var d=OPEN.Validate.BusinessForm.validCharsAlphaNumExt2.call(OPEN.Validate.BusinessForm,b.field);b.msg=OPEN.ValidatorMaps.RuleMapBusiness.businessNameOnCard.rule3.msg;break;case"deltaSkyMilesNumber":e="PersonalForm";var d=OPEN.Validate.PersonalForm.validNumbers.call(OPEN.Validate.PersonalForm,b.field);b.msg=OPEN.ValidatorMaps.RuleMapPersonal.deltaSkyMilesNumber.rule1.msg;break;case"bt1_Acct_Num":var d=OPEN.Validate.TransferBalForm.validNumbers.call(OPEN.Validate.TransferBalForm,b.field);b.msg=OPEN.ValidatorMaps.RuleMapTransferBal.bt1_Acct_Num.rule2.msg;break;case"bt2_Acct_Num":var d=OPEN.Validate.TransferBalForm.validNumbers.call(OPEN.Validate.TransferBalForm,b.field);b.msg=OPEN.ValidatorMaps.RuleMapTransferBal.bt2_Acct_Num.rule2.msg;break;case"bt1_Payee":var d=OPEN.Validate.TransferBalForm.validSplChars.call(OPEN.Validate.TransferBalForm,b.field);if(!d){b.msg=OPEN.ValidatorMaps.RuleMapTransferBal.bt1_Payee.rule2.msg;break}var d=OPEN.Validate.TransferBalForm.validCharsExt4.call(OPEN.Validate.TransferBalForm,b.field);b.msg=OPEN.ValidatorMaps.RuleMapTransferBal.bt1_Payee.rule4.msg;break;case"bt2_Payee":var d=OPEN.Validate.TransferBalForm.validSplChars.call(OPEN.Validate.TransferBalForm,b.field);if(!d){b.msg=OPEN.ValidatorMaps.RuleMapTransferBal.bt2_Payee.rule2.msg;break}var d=OPEN.Validate.TransferBalForm.validCharsExt4.call(OPEN.Validate.TransferBalForm,b.field);b.msg=OPEN.ValidatorMaps.RuleMapTransferBal.bt2_Payee.rule4.msg;break;case"bt1_Amount":var d=OPEN.Validate.TransferBalForm.validNumbers.call(OPEN.Validate.TransferBalForm,b.field);if(!d){b.msg=OPEN.ValidatorMaps.RuleMapTransferBal.bt1_Amount.rule2.msg;break}var d=OPEN.Validate.TransferBalForm.validTranferAmunt.call(OPEN.Validate.TransferBalForm,b.field);b.msg=OPEN.ValidatorMaps.RuleMapTransferBal.bt1_Amount.rule4.msg;break;var d=OPEN.Validate.TransferBalForm.minimumTranferAmount.call(OPEN.Validate.TransferBalForm,b.field);b.msg=OPEN.ValidatorMaps.RuleMapTransferBal.bt1_Amount.rule5.msg;break;case"bt2_Amount":var d=OPEN.Validate.TransferBalForm.validNumbers.call(OPEN.Validate.TransferBalForm,b.field);if(!d){b.msg=OPEN.ValidatorMaps.RuleMapTransferBal.bt2_Amount.rule2.msg;break}var d=OPEN.Validate.TransferBalForm.validTranferAmunt.call(OPEN.Validate.TransferBalForm,b.field);b.msg=OPEN.ValidatorMaps.RuleMapTransferBal.bt2_Amount.rule4.msg;break;var d=OPEN.Validate.TransferBalForm.minimumTranferAmount.call(OPEN.Validate.TransferBalForm,b.field);b.msg=OPEN.ValidatorMaps.RuleMapTransferBal.bt2_Amount.rule5.msg;break;default:return true}d?OPEN.Validate[e].onFieldSuccess(b):OPEN.Validate[e].onFieldError(b)}(function(b){var a=function(d,j,q){var h=this;d=b(d);var r;j="function"===typeof j?j(d.val(),void 0,d,q):j;h.init=function(){q=q||{};h.byPassKeys=[8,9,16,36,37,38,39,40,46,91];h.translation={0:{pattern:/\d/},9:{pattern:/\d/,optional:!0},"#":{pattern:/\d/,recursive:!0},A:{pattern:/[a-zA-Z0-9$#@!~\*\^\&\+]/},S:{pattern:/[a-zA-Z]/}};h.translation=b.extend({},h.translation,q.translation);h=b.extend(!0,{},h,q);d.each(function(){!1!==q.maxlength&&d.attr("maxlength",j.length);d.attr("autocomplete","off");d.attr("autocorrect","off");l.destroyEvents();l.events();l.val(l.getMasked())})};var l={getCaret:function(){var n;n=0;var e=d.get(0);if(document.selection&&-1==navigator.appVersion.indexOf("MSIE 10")){if(!ie78){e.focus()}n=document.selection.createRange();n.moveStart("character",-e.value.length);n=n.text.length}else{if(e.selectionStart||"0"==e.selectionStart){n=e.selectionStart}}return n},setCaret:function(n){var e;e=d.get(0);e.setSelectionRange?(e.focus(),e.setSelectionRange(n,n)):e.createTextRange&&(e=e.createTextRange(),e.collapse(!0),e.moveEnd("character",n),e.moveStart("character",n),e.select())},events:function(){d.on("keydown.mask",function(){r=l.val()});d.on("keyup.mask",l.behaviour);d.on("paste.mask",function(){setTimeout(function(){d.keydown().keyup()},100)})},destroyEvents:function(){d.off("keydown.mask").off("keyup.mask").off("paste.mask")},val:function(n){var e="input"===d.get(0).tagName.toLowerCase();return 0<arguments.length?e?d.val(n):d.text(n):e?d.val():d.text()},behaviour:function(s){s=s||window.event;if(-1===b.inArray(s.keyCode||s.which,h.byPassKeys)){var e,n=l.getCaret();n<l.val().length&&(e=!0);l.val(l.getMasked());e&&l.setCaret(n);return l.callbacks(s)}},getMasked:function(){var E=[],D=l.val(),C=0,B=j.length,A=0,y=D.length,z=1,I="push",x=-1,w,H;q.reverse?(I="unshift",z=-1,w=0,C=B-1,A=y-1,H=function(){return -1<C&&-1<A}):(w=B-1,H=function(){return C<B&&A<y});for(;H();){var G=j.charAt(C),F=D.charAt(A),e=h.translation[G];e?(F.match(e.pattern)?(E[I](F),e.recursive&&(-1===x?x=C:C===w&&(C=x-z),w===x&&(C-=z)),C+=z):e.optional&&(C+=z,A-=z),A+=z):(E[I](G),F===G&&(A+=z),C+=z)}return E.join("")},callbacks:function(s){var e=l.val(),n=l.val()!==r;if(!0===n&&"function"===typeof q.onChange){q.onChange(e,s,d,q)}if(!0===n&&"function"===typeof q.onKeyPress){q.onKeyPress(e,s,d,q)}if("function"===typeof q.onComplete&&e.length===j.length){q.onComplete(e,s,d,q)}}};h.remove=function(){l.destroyEvents();l.val(h.getCleanVal()).removeAttr("maxlength")};h.getCleanVal=function(){for(var s=[],n=l.val(),u=0,t=j.length;u<t;u++){h.translation[j.charAt(u)]&&s.push(n.charAt(u))}return s.join("")};h.init()};b.fn.mask=function(d,e){return this.each(function(){b(this).data("mask",new a(this,d,e))})};b.fn.unmask=function(){return this.each(function(){try{b(this).data("mask").remove()}catch(d){}})};b("input[data-mask]").each(function(){var d=b(this),e={};"true"===d.attr("data-mask-reverse")&&(e.reverse=!0);"false"===d.attr("data-mask-maxlength")&&(e.maxlength=!1);d.mask(d.attr("data-mask"),e)})})(window.jQuery||window.Zepto);